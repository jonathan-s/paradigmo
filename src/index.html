<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey Interface</title>
    <link rel="stylesheet" href="./css/main.css" type="text/css" media="all">
</head>
<body>
    <main class="center flex-column">
        <div class="container" data-controller="question">

            <template id="circleFragment" data-question-target="circleFragment">
                <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background Circle (beige) -->
                    <circle cx="100" cy="100" r="80" fill="none" stroke="#f5e9c3" stroke-width="20" />

                    <!-- Progress Circle (blue gradient) with stroke-dasharray and stroke-dashoffset to show 69% -->
                    <circle
                      cx="100"
                      cy="100"
                      r="80"
                      fill="none"
                      stroke="url(#blueGradient)"
                      stroke-width="20"
                      stroke-linecap=""
                      stroke-dasharray="502.4"
                      stroke-dashoffset="155.744"
                      transform="rotate(-90, 100, 100)"
                      id="circle-fill"
                    />

                    <!-- Text in the center -->
                    <text x="100" y="100" id="circle-percent" dominant-baseline="middle" text-anchor="middle" font-family="Arial, sans-serif" font-size="36" font-weight="bold">69%</text>

                    <!-- Blue gradient definition -->
                    <defs>
                      <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#308CCE" />
                        <stop offset="100%" stop-color="#91D0FE" />
                      </linearGradient>
                    </defs>
                  </svg>
            </template>

            <div class="center">
                <div class="question-header">
                    <div class="question-title">Questão</div>
                    <div class="question-number center">
                        <span class="current-number" data-question-target="number">1</span>
                        /
                        <span>24</span>
                    </div>
                </div>

            </div>

            <div class="content-box">
                <div class="question-text">
                    <div class="category">
                        <span data-question-target="type" class="title"></span> -
                        <span data-question-target="theme" class="title"></span>
                    </div>
                    <span class="text-l" data-question-target="question" data-action="question:ready@window->question#init">
                        loading...
                    </span>
                </div>

                <div class="options">
                    <label class="btn select-btn agree-totally">
                        <input data-action="question#answer" data-question-target="answer" type="radio" name="question" value="2">
                        <span>CONCORDO TOTALMENTE</span>
                        <span class="option-icon">
                            <img src="./images/okhand.svg">
                            <img src="./images/okhand.svg">
                        </span>
                    </label>
                    <label class="btn select-btn agree-partially">
                        <input data-action="question#answer" data-question-target="answer" type="radio" name="question" value="1">
                        <span>CONCORDO PARCIALMENTE</span>
                        <span class="option-icon">
                            <img src="./images/okhand.svg">
                        </span>
                    </label>
                    <label class="btn select-btn neutral">
                        <input data-action="question#answer" data-question-target="answer" type="radio" name="question" value="0">
                        <span>POSIÇÃO NEUTRA</span>
                        <span class="option-icon"></span>
                    </label>
                    <label class="btn select-btn disagree-partially">
                        <input data-action="question#answer" data-question-target="answer" type="radio" name="question" value="-1">
                        <span>DISCORDO PARCIALMENTE</span>
                        <span class="option-icon">
                            <img src="./images/not_ok_hand.svg">
                        </span>
                    </label>
                    <label class="btn select-btn disagree-totally">
                        <input data-action="question#answer" data-question-target="answer" type="radio" name="question" value="-2">
                        <span>DISCORDO TOTALMENTE</span>
                        <span class="option-icon">
                            <img src="./images/not_ok_hand.svg">
                            <img src="./images/not_ok_hand.svg">
                        </span>
                    </label>
                    <label class="btn select-btn no-answer">
                        <input data-action="question#answer" data-question-target="answer" type="radio" name="question" value="NaN">
                        <span>NÃO VOU RESPONDER</span>
                        <span class="option-icon"></span>
                    </label>
                </div>
            </div>

            <div class="navigation">
                <button data-question-target="previous" data-action="question#previous" class="btn nav-button">← VOLTAR</button>
                <button data-question-target="next" data-action="question#next" class="btn nav-button">PRÓXIMA →</button>
            </div>

            <div class="content-box poll-box">
                <div class="party-row">
                    <img src="/api/placeholder/24/24" alt="PS"\>
                    <div class="party-bar-container" style="flex-grow: 69">
                        <div class="party-name">PARTIDO SOCIALISTA</div>
                    </div>
                    <div style="flex-grow: 31"></div>
                    <div class="party-percentage">69%</div>
                </div>

                <div class="party-row">
                    <img src="/api/placeholder/24/24" alt="PS"\>
                    <div class="party-bar-container" style="flex-grow: 69">
                        <div class="party-name">PARTIDO SOCIALISTA</div>
                    </div>
                    <div style="flex-grow: 31"></div>
                    <div class="party-percentage">69%</div>
                </div>
            </div>

            <div class="content-box chart">

                <!-- Axis labels -->
                <div class="axis-label top-label">Progressista</div>
                <div class="axis-label bottom-label">Conservador</div>
                <div class="axis-label left-label">Esquerda</div>
                <div class="axis-label right-label">Direita</div>

                <!-- Grid lines -->
                <div class="main-horizontal dotted-spaced"></div>
                <div class="main-vertical left dotted-spaced"></div>

                <!-- Dotted grid lines -->

                <!-- Parties positioned on the chart -->
                <!-- Partido Socialista - blue circle -->
                <div class="party ps" style="left: 40%; top: 45%">PS</div>

                <!-- Bloco de Esquerda - red star/figure -->
                <div class="party be" style="left: 35%; top: 35%">BE</div>

                <!-- PCP - hammer and sickle -->
                <div class="party pcp" style="left: 15%; top: 75%">PCP</div>

                <!-- Chega - in different positions -->
                <div class="party chega" style="left: 70%; top: 20%">CH</div>
                <div class="party chega" style="left: 35%; top: 80%">CH</div>

                <!-- AD - orange -->
                <div class="party ad" style="left: 65%; top: 40%">AD</div>
                <div class="party ad" style="left: 55%; top: 75%">AD</div>
                <div class="party ad" style="left: 20%; top: 85%">AD</div>

                <!-- Volt - purple -->
                <div class="party volt" style="left: 65%; top: 60%">VT</div>

                <!-- PAN - green -->
                <div class="party pan" style="left: 60%; top: 65%">PAN</div>

                <!-- IL - liberal initiative -->
                <div class="party il" style="left: 55%; top: 65%">IL</div>

                <!-- Extra circles for left side -->
                <div class="party be" style="left: 18%; top: 65%">PS</div>
                <div class="party be" style="left: 25%; top: 75%">PS</div>
            </div>
        </div>


    </main>

    <script id="data-questions" type="application/json" src="./questions.json"></script>
    <script type="module" src="./js/question_controller.js"></script>
</body>
</html>
